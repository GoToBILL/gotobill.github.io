<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CDC 구조</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            zoom: 1.3;
        }
    </style>
</head>
<body class="bg-white p-8">
    <div class="max-w-4xl mx-auto">
        <div class="text-2xl font-bold text-center mb-8 p-3 border-b-2 border-gray-300">
            CDC 구조
        </div>

        <svg viewBox="0 0 800 300" class="w-full">
            <!-- Database -->
            <rect x="50" y="100" width="180" height="100" fill="#f0fdf4" stroke="#16a34a" stroke-width="3" rx="8"/>
            <text x="140" y="140" text-anchor="middle" font-size="20" font-weight="600">MySQL Database</text>
            <text x="140" y="165" text-anchor="middle" font-size="14" fill="#555">(Transaction Log)</text>

            <!-- CDC (mcsqueal) -->
            <rect x="310" y="100" width="180" height="100" fill="#fef3c7" stroke="#f59e0b" stroke-width="3" rx="8"/>
            <text x="400" y="140" text-anchor="middle" font-size="20" font-weight="600">CDC</text>
            <text x="400" y="165" text-anchor="middle" font-size="14" fill="#555">(mcsqueal)</text>

            <!-- Frontend Clusters -->
            <rect x="570" y="100" width="180" height="100" fill="#dbeafe" stroke="#3b82f6" stroke-width="3" rx="8"/>
            <text x="660" y="140" text-anchor="middle" font-size="20" font-weight="600">Frontend</text>
            <text x="660" y="165" text-anchor="middle" font-size="14" fill="#555">Clusters</text>

            <!-- Arrows -->
            <defs>
                <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                    <polygon points="0 0, 10 3, 0 6" fill="#666" />
                </marker>
            </defs>

            <!-- DB to CDC -->
            <line x1="230" y1="150" x2="310" y2="150" stroke="#666" stroke-width="3" marker-end="url(#arrowhead)"/>
            <text x="270" y="135" text-anchor="middle" font-size="13" font-weight="600" fill="#666">로그 읽기</text>

            <!-- CDC to Frontend -->
            <line x1="490" y1="150" x2="570" y2="150" stroke="#666" stroke-width="3" marker-end="url(#arrowhead)"/>
            <text x="530" y="135" text-anchor="middle" font-size="13" font-weight="600" fill="#666">무효화 전파</text>
        </svg>
    </div>
</body>
</html>