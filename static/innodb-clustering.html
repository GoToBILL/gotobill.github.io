<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InnoDB 클러스터링 키</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white p-8">
    <div class="max-w-5xl mx-auto">
        <svg viewBox="0 0 1800 1400" class="w-full">
            <defs>
                <marker id="arrowhead-orange" markerWidth="15" markerHeight="15" refX="12" refY="4.5" orient="auto">
                    <polygon points="0 0, 15 4.5, 0 9" fill="#f59e0b" />
                </marker>
            </defs>

            <!-- 제목 -->
            <text x="900" y="60" font-size="48" font-weight="bold" fill="#111827" text-anchor="middle">InnoDB 클러스터링 키 구조</text>

            <!-- 메인 박스 -->
            <rect x="50" y="120" width="1700" height="1220" fill="#f0f9ff" stroke="#3b82f6" stroke-width="5" rx="15"/>

            <!-- 프라이머리 키 (클러스터링 키) 섹션 -->
            <g transform="translate(100, 180)">
                <text x="0" y="0" font-size="32" font-weight="600" fill="#1e40af">프라이머리 키 (클러스터링 키)</text>
                <text x="0" y="40" font-size="22" fill="#64748b">테이블 데이터가 PK 순서로 디스크에 정렬되어 저장됨</text>

                <!-- 테이블 데이터 -->
                <g transform="translate(0, 90)">
                    <rect x="0" y="0" width="1600" height="90" fill="#dbeafe" stroke="#3b82f6" stroke-width="3" rx="8"/>
                    <text x="800" y="35" text-anchor="middle" font-size="26" font-weight="600" fill="#1e40af">PK: 1</text>
                    <text x="800" y="65" text-anchor="middle" font-size="22" fill="#475569">name: Alice, age: 25, city: Seoul</text>
                </g>

                <g transform="translate(0, 190)">
                    <rect x="0" y="0" width="1600" height="90" fill="#dbeafe" stroke="#3b82f6" stroke-width="3" rx="8"/>
                    <text x="800" y="35" text-anchor="middle" font-size="26" font-weight="600" fill="#1e40af">PK: 3</text>
                    <text x="800" y="65" text-anchor="middle" font-size="22" fill="#475569">name: Bob, age: 30, city: Busan</text>
                </g>

                <g transform="translate(0, 290)">
                    <rect x="0" y="0" width="1600" height="90" fill="#dbeafe" stroke="#3b82f6" stroke-width="3" rx="8"/>
                    <text x="800" y="35" text-anchor="middle" font-size="26" font-weight="600" fill="#1e40af">PK: 5</text>
                    <text x="800" y="65" text-anchor="middle" font-size="22" fill="#475569">name: Charlie, age: 35, city: Seoul</text>
                </g>

                <g transform="translate(0, 390)">
                    <rect x="0" y="0" width="1600" height="90" fill="#dbeafe" stroke="#3b82f6" stroke-width="3" rx="8"/>
                    <text x="800" y="35" text-anchor="middle" font-size="26" font-weight="600" fill="#1e40af">PK: 7</text>
                    <text x="800" y="65" text-anchor="middle" font-size="22" fill="#475569">name: David, age: 28, city: Incheon</text>
                </g>
            </g>

            <!-- 세컨더리 인덱스 섹션 -->
            <g transform="translate(100, 720)">
                <text x="0" y="0" font-size="32" font-weight="600" fill="#ea580c">세컨더리 인덱스 (PK가 아닌 인덱스)</text>
                <text x="0" y="40" font-size="22" fill="#64748b">인덱스 값 → PK 값을 저장 (논리적 주소)</text>

                <!-- age 인덱스 -->
                <g transform="translate(0, 90)">
                    <text x="0" y="0" font-size="26" font-weight="600" fill="#92400e">INDEX idx_age (age)</text>

                    <g transform="translate(0, 40)">
                        <rect x="0" y="0" width="380" height="70" fill="#fef3c7" stroke="#f59e0b" stroke-width="3" rx="8"/>
                        <text x="190" y="45" text-anchor="middle" font-size="22" fill="#92400e">age: 25 → PK: 1</text>
                    </g>

                    <g transform="translate(400, 40)">
                        <rect x="0" y="0" width="380" height="70" fill="#fef3c7" stroke="#f59e0b" stroke-width="3" rx="8"/>
                        <text x="190" y="45" text-anchor="middle" font-size="22" fill="#92400e">age: 28 → PK: 7</text>
                    </g>

                    <g transform="translate(800, 40)">
                        <rect x="0" y="0" width="380" height="70" fill="#fef3c7" stroke="#f59e0b" stroke-width="3" rx="8"/>
                        <text x="190" y="45" text-anchor="middle" font-size="22" fill="#92400e">age: 30 → PK: 3</text>
                    </g>

                    <g transform="translate(1200, 40)">
                        <rect x="0" y="0" width="380" height="70" fill="#fef3c7" stroke="#f59e0b" stroke-width="3" rx="8"/>
                        <text x="190" y="45" text-anchor="middle" font-size="22" fill="#92400e">age: 35 → PK: 5</text>
                    </g>
                </g>

                <!-- city 인덱스 (복합 인덱스) -->
                <g transform="translate(0, 300)">
                    <text x="0" y="0" font-size="26" font-weight="600" fill="#92400e">INDEX idx_city_age (city, age) - 복합 인덱스</text>

                    <g transform="translate(0, 40)">
                        <rect x="0" y="0" width="480" height="70" fill="#fed7aa" stroke="#f59e0b" stroke-width="3" rx="8"/>
                        <text x="240" y="45" text-anchor="middle" font-size="22" fill="#92400e">(Busan, 30) → PK: 3</text>
                    </g>

                    <g transform="translate(510, 40)">
                        <rect x="0" y="0" width="480" height="70" fill="#fed7aa" stroke="#f59e0b" stroke-width="3" rx="8"/>
                        <text x="240" y="45" text-anchor="middle" font-size="22" fill="#92400e">(Incheon, 28) → PK: 7</text>
                    </g>

                    <g transform="translate(1020, 40)">
                        <rect x="0" y="0" width="480" height="70" fill="#fed7aa" stroke="#f59e0b" stroke-width="3" rx="8"/>
                        <text x="240" y="45" text-anchor="middle" font-size="22" fill="#92400e">(Seoul, 25) → PK: 1</text>
                    </g>
                </g>

                <!-- 화살표 -->
                <line x1="190" y1="130" x2="800" y2="-410" stroke="#f59e0b" stroke-width="3" marker-end="url(#arrowhead-orange)" stroke-dasharray="8,4"/>
                <text x="450" y="-150" font-size="22" fill="#f59e0b" font-weight="600">PK 값으로 참조</text>
            </g>

        </svg>
    </div>
</body>
</html>
